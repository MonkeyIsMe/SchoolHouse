<!DOCTYPE html>
<html>

<style type="text/css">

</style>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>student_info</title>

    <link rel="shortcut icon" href="favicon.ico"> <link href="css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">

    <!-- jqgrid-->
    <link href="css/plugins/jqgrid/ui.jqgridffe4.css?0820" rel="stylesheet">

    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/style.min862f.css?v=4.1.0" rel="stylesheet">

    <link href="css/patch.css" rel="stylesheet">
    <style>
        /* Additional style to fix warning dialog position */

        #alertmod_table_list_2 {
            top: 200px !important;
            margin: 0px auto;
            cursor: default;
        }
        .ui-jqdialog{
            margin: 0px auto;
        }
    </style>

</head>

<body class="gray-bg">
    <div class="wrapper wrapper-content  animated fadeInRight">
        <div class="row">
            <div class="col-sm-12">
                <div class="ibox ">
                    <div class="ibox-header">
                         <h2 class="m-t">学生信息</h2>                      
                    </div>
                    <div class="ibox-content">
                        <div class="button-opt col-sm-3">
                            <button type="button" id="bt_add" class="btn btn-primary mybutton" data-toggle="modal" data-target="">
                              添加
                            </button>                        
                            <button type="button" id="bt_edit" class="btn btn-primary mybutton" data-toggle="modal" data-target="">
                              修改
                            </button>
                            <button type="button" id="bt_del" class="btn btn-primary mybutton" data-toggle="modal" data-target="">
                              删除
                            </button>
                            <button type="button" id="bt_del" class="btn btn-success mybutton" data-toggle="modal" data-target="">
                              导入Excel
                            </button>
                        </div>
                        <div class="input-group search-input col-sm-6">
                            <input type="text" class="form-control"> 
                            <span class="input-group-btn"> 
                                <button type="button" class="btn btn-primary">搜索</button> 
                                
                            </span>
                        </div> 
                        <div class="jqGrid_wrapper col-sm-12">
                            <table id="table_list_2"></table>
                            <div id="pager_list_2"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



<div class="add-edit-modal">
    <div class="modal fade mymodal" id="add-edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">添加数据</h4>
          </div>
          <div class="modal-body">
            <div class="form-group draggable ui-draggable">
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">学生姓名：</label>
                            <div class="col-sm-9">
                                <input type="text" id="studentName" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">学生身份证号吗：</label>
                            <div class="col-sm-9">
                                <input type="text" id="identityId" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">父亲姓名：</label>
                            <div class="col-sm-9">
                                <input type="text" id="farther" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">母亲姓名：</label>
                            <div class="col-sm-9">
                                <input type="text" id="mother" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">业主姓名：</label>
                            <div class="col-sm-9">
                                <input type="text" id="houseOwner" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">业主身份证：</label>
                            <div class="col-sm-9">
                                <input type="text" id="houseOwnerId" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">与业主关系：</label>
                            <div class="col-sm-9">
                                <input type="text" id="relation" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">房产证号：</label>
                            <div class="col-sm-9">
                                <input type="text" id="houseCard" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">房屋预告登记号：</label>
                            <div class="col-sm-9">
                                <input type="text" id="housepreCard" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">所属楼盘：</label>
                            <div class="col-sm-9">
                                <input type="text" id="studentbuildId" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">楼号：</label>
                            <div class="col-sm-9">
                                <input type="text" id="studentbuildNum" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">房号：</label>
                            <div class="col-sm-9">
                                <input type="text" id="studenthomeId" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">是否有效：</label>
                            <div class="col-sm-9">
                                <input type="text" id="isvalid" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">所属学校：</label>
                            <div class="col-sm-9">
                                <input type="text" id="studentSchool" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">学生联系电话：</label>
                            <div class="col-sm-9">
                                <input type="text" id="studentTel" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">使用的日期：</label>
                            <div class="col-sm-9">
                                <input type="text" id="useTime" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-0">
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">毕业小学：</label>
                            <div class="col-sm-9">
                                <input type="text" id="privateSchool" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 div-1">
                        <div class="form-group div-2">
                            <label class="col-sm-3 control-label modal-lable">创建时间：</label>
                            <div class="col-sm-9">
                                <input type="text" id="createTime" name="" class="form-control" placeholder="请输入文本">
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            <button type="button" class="btn btn-primary" id="mySave">保存</button>
            <button type="button" class="btn btn-primary" id="myEdit">修改</button>
          </div>
        </div>
      </div>
    </div>
</div>

<div class="del-modal">
    <div class="modal fade mymodal" id="mydel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog del-modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">是否删除</h4>
          </div>
          <!-- <div class="modal-body"> -->
<!--             <div class="form-group draggable ui-draggable">
              
            </div> -->
          <div class="modal-footer">
            <div class="del-check">
                <button type="button" class="btn btn-default del-cancel" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="myDelete">删除</button>
            </div>
          </div>
        <!-- </div> -->
      </div>
    </div>
</div>


    <script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/bootstrap.min.js?v=3.3.6"></script>
    <script src="js/plugins/peity/jquery.peity.min.js"></script>
    <script src="js/plugins/jqgrid/i18n/grid.locale-cnffe4.js?0820"></script>
    <script src="js/plugins/jqgrid/jquery.jqGrid.minffe4.js?0820"></script>
    <script src="js/content.min.js?v=1.0.0"></script>
    <script>
$(document).ready(function() {
    var obj_i=[];
    $.jgrid.defaults.styleUI = "Bootstrap";
    var mydata = [{
        id: "1",
        studentName: "李四",
        identityId: "43xxxxxxxxxxxxxxxx",
        father: "李xx",
        mother: "王xx",
        houseOwner: "李xx",
        houseOwnerId: "43xxxxxxxxxxxxxxxx",
        relation: "父子",
        houseCard: "123456xxx",
        housepreCard: "123456xxx",
        studentbuildId: "xx园",
        studentbuildNum: "x栋",
        studenthomeId: "xxx",
        isvalid: "是",
        studentSchool: "xxx学校",
        studentTel: "12345678912",
        useTime: "2019-01-01",
        privateSchool: "xxx学校",
        createTime: "2019-02-02"
    },
    {
        id: "2",
        studentName: "李四",
        identityId: "43xxxxxxxxxxxxxxxx",
        father: "李xx",
        mother: "王xx",
        houseOwner: "李xx",
        houseOwnerId: "43xxxxxxxxxxxxxxxx",
        relation: "父子",
        houseCard: "123456xxx",
        housepreCard: "123456xxx",
        studentbuildId: "xx园",
        studentbuildNum: "x栋",
        studenthomeId: "xxx",
        isvalid: "是",
        studentSchool: "xxx学校",
        studentTel: "12345678912",
        useTime: "2019-01-01",
        privateSchool: "xxx学校",
        createTime: "2019-02-02"
    },
    {
        id: "3",
        studentName: "李四",
        identityId: "43xxxxxxxxxxxxxxxx",
        father: "李xx",
        mother: "王xx",
        houseOwner: "李xx",
        houseOwnerId: "43xxxxxxxxxxxxxxxx",
        relation: "父子",
        houseCard: "123456xxx",
        housepreCard: "123456xxx",
        studentbuildId: "xx园",
        studentbuildNum: "x栋",
        studenthomeId: "xxx",
        isvalid: "是",
        studentSchool: "xxx学校",
        studentTel: "12345678912",
        useTime: "2019-01-01",
        privateSchool: "xxx学校",
        createTime: "2019-02-02"
    }];
    $("#table_list_2").jqGrid({
        data: mydata,
        datatype: "local",
        height: 450,
        autowidth: true,
        shrinkToFit: true,
        rowNum: 20,
        rowList: [10, 20, 30],
        multiselect: true,
        celledit: true,
        onSelectRow: function(id, stats) {
            if (stats) {
                obj_i.push(id);
            } else {
                obj_i.shift();
            }
        },
        editurl:"",
        colNames: ["序号", "学生姓名", "学生身份证号", "父亲姓名", "母亲姓名", "业主姓名", "业主身份证号", "与业主关系", "房产证号", "房屋预告登记号", "所属楼盘", "楼号", "房号", "是否有效", "所属学校", "学生联系电话", "使用的日期", "毕业小学", "创建日期"],
        colModel: [{
            name: "id",
            index: "id",
            editable: true,
            width: 15,
            sorttype: "int",
            search: true
        },
        {
            name: "studentName",
            index: "studentName",
            editable: true,
            width: 25
        },
        {
            name: "identityId",
            index: "identityId",
            editable: true,
            width: 50
        },
        {
            name: "father",
            index: "father",
            editable: true,
            width: 25,
            align: "left"
        },
        {
            name: "mother",
            index: "mother",
            editable: true,
            width: 25,
            align: "left"
        },
        {
            name: "houseOwner",
            index: "houseOwner",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "houseOwnerId",
            index: "houseOwnerId",
            editable: true,
            width: 50,
            sortable: false
        },
        {
            name: "relation",
            index: "relation",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "houseCard",
            index: "houseCard",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "housepreCard",
            index: "housepreCard",
            editable: true,
            width: 40,
            align: "left"
        },
        {
            name: "studentbuildId",
            index: "studentbuildId",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "studentbuildNum",
            index: "studentbuildNum",
            editable: true,
            width: 20,
            align: "left"
        },
        {
            name: "studenthomeId",
            index: "studenthomeId",
            editable: true,
            width: 20,
            align: "left"
        },
        {
            name: "isvalid",
            index: "isvalid",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "studentSchool",
            index: "studentSchool",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "studentTel",
            index: "studentTel",
            editable: true,
            width: 40,
            align: "left"
        },
        {
            name: "useTime",
            index: "useTime",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "privateSchool",
            index: "privateSchool",
            editable: true,
            width: 30,
            align: "left"
        },
        {
            name: "createTime",
            index: "createTime",
            editable: true,
            width: 30,
            align: "left"
        }],
        pager: "#pager_list_2",
        viewrecords: true,
        add: true,
        edit: true,
        addtext: "Add",
        edittext: "Edit",
        hidegrid: false
    });
    $("#table_list_2").setSelection(0, true);
    $("#table_list_2").jqGrid("navGrid", "#pager_list_2", {
        edit: true,
        add: true,
        del: true,
        search: false
    },
    {
        height: 300,
        reloadAfterSubmit: true
    });
    $(window).bind("resize",
    function() {
        var width = $(".jqGrid_wrapper").width();
        $("#table_list_2").setGridWidth(width)
    });

    var obj_edit = $("#table_list_2").jqGrid("getRowData");//获取修改时多选的id，并放入到数组obj_edit中
    var obj_del = $("#table_list_2").jqGrid("getGridParam","selarrrow");//获取到删除时多选的id，并放入到数组obj_del中
    $("#bt_add").click(function() {
        $("#mySave").css("display","inline");
        $("#myEdit").css("display","none");
        $("#bt_add").attr("data-target","#add-edit");
    });
    $("#bt_edit").click(function() {
        $("#mySave").css("display","none");
        $("#myEdit").css("display","inline");
        if(obj_i.length==1){
            // alert(obj_edit[obj_i[obj_i.length-1]-1].schoolName);
            $("#bt_edit").attr("data-target","#add-edit");
        }else if(obj_i.length < 1){
            $("#bt_edit").attr("data-target","");
            alert("请至少选择1项！");
        }else{
            $("#bt_edit").attr("data-target","");
            alert("请只选择1项！");
        }
    });
    $("#bt_del").click(function() {
        if(obj_del.length<1){
            alert("请至少选择1项！");
            $("#bt_del").attr("data-target","");
        }else{
            // alert(obj_del);
            $("#bt_del").attr("data-target","#mydel");
        }
        
    }); 
});
          
</script>
    </script>
</body>


</html>
